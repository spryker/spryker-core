<?xml version="1.0"?>
<database xmlns="spryker:schema-01" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="spryker:schema-01 https://static.spryker.com/schema-01.xsd" name="zed" namespace="Orm\Zed\MerchantFile\Persistence" package="src.Orm.Zed.MerchantFile.Persistence">

    <table name="spy_merchant_file" idMethod="native" allowPkInsert="true">
        <column name="id_merchant_file" type="INTEGER" autoIncrement="true" primaryKey="true" required="true"/>
        <column name="fk_merchant" type="INTEGER" required="true"/>
        <column name="fk_user" type="INTEGER" required="true"/>
        <column name="type" type="VARCHAR" size="255" required="true"/>
        <column name="original_file_name" type="VARCHAR" size="255"/>
        <column name="uploaded_url" type="VARCHAR" size="255" required="true"/>
        <column name="public_url" type="VARCHAR" size="255"/>
        <column name="content_type" type="VARCHAR" size="255"/>
        <column name="size" type="INTEGER"/>

        <foreign-key name="spy_merchant_file-fk_merchant" foreignTable="spy_merchant" phpName="Merchant">
            <reference local="fk_merchant" foreign="id_merchant"/>
        </foreign-key>

        <foreign-key name="spy_merchant_file-fk_user" foreignTable="spy_user" phpName="User">
            <reference local="fk_user" foreign="id_user"/>
        </foreign-key>

        <behavior name="uuid">
            <parameter name="key_columns" value="id_merchant_file.fk_merchant"/>
        </behavior>

        <behavior name="timestampable">
            <parameter name="disable_updated_at" value="true"/>
        </behavior>
    </table>

</database>
