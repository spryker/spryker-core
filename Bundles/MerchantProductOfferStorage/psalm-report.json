{
    "error": [
        {
            "severity": "error",
            "line_from": 29,
            "line_to": 29,
            "type": "InvalidReturnType",
            "message": "The declared return type 'array<string, string>' for Spryker\\Client\\MerchantProductOfferStorage\\ProductConcreteDefaultProductOffer\\ProductConcreteDefaultProductOffer::getProductOfferReferences is incorrect, got 'array<int(0)|string, null|string>'",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/ProductConcreteDefaultProductOffer/ProductConcreteDefaultProductOffer.php",
            "snippet": "     * @phpstan-return array<string, string>",
            "selected_text": "array<string, string>",
            "error_level": 6,
            "shortcode": 11
        },
        {
            "severity": "error",
            "line_from": 62,
            "line_to": 62,
            "type": "InvalidArgument",
            "message": "Argument 1 of Spryker\\Client\\MerchantProductOfferStorageExtension\\Dependency\\Plugin\\ProductOfferProviderPluginInterface::provideDefaultProductOfferReference expects array<array-key, string>, non-empty-list<null|string> provided",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/ProductConcreteDefaultProductOffer/ProductConcreteDefaultProductOffer.php",
            "snippet": "                ->provideDefaultProductOfferReference($productConcreteProductOffersReferences);",
            "selected_text": "$productConcreteProductOffersReferences",
            "error_level": 6,
            "shortcode": 4
        },
        {
            "severity": "error",
            "line_from": 65,
            "line_to": 65,
            "type": "InvalidReturnStatement",
            "message": "The inferred type 'array<int(0)|string, null|string>' does not match the declared return type 'array<string, string>' for Spryker\\Client\\MerchantProductOfferStorage\\ProductConcreteDefaultProductOffer\\ProductConcreteDefaultProductOffer::getProductOfferReferences",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/ProductConcreteDefaultProductOffer/ProductConcreteDefaultProductOffer.php",
            "snippet": "        return $defaultProductOffers;",
            "selected_text": "$defaultProductOffers",
            "error_level": 6,
            "shortcode": 128
        },
        {
            "severity": "error",
            "line_from": 280,
            "line_to": 280,
            "type": "InvalidReturnType",
            "message": "The declared return type 'array<array-key, int>' for Spryker\\Client\\MerchantProductOfferStorage\\Storage\\ProductOfferStorageReader::getMerchantIds is incorrect, got 'list<int|null>'",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/Storage/ProductOfferStorageReader.php",
            "snippet": "     * @return int[]",
            "selected_text": "int[]",
            "error_level": 6,
            "shortcode": 11
        },
        {
            "severity": "error",
            "line_from": 289,
            "line_to": 289,
            "type": "InvalidReturnStatement",
            "message": "The inferred type 'list<int|null>' does not match the declared return type 'array<array-key, int>' for Spryker\\Client\\MerchantProductOfferStorage\\Storage\\ProductOfferStorageReader::getMerchantIds",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/Storage/ProductOfferStorageReader.php",
            "snippet": "        return $merchantIds;",
            "selected_text": "$merchantIds",
            "error_level": 6,
            "shortcode": 128
        },
        {
            "severity": "error",
            "line_from": 212,
            "line_to": 212,
            "type": "InvalidReturnType",
            "message": "The declared return type 'array<array-key, string>' for Spryker\\Zed\\MerchantProductOfferStorage\\Business\\Writer\\ProductConcreteOffersStorageWriter::getStoreNamesList is incorrect, got 'array<array-key, null|string>'",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Business/Writer/ProductConcreteOffersStorageWriter.php",
            "snippet": "     * @return string[]",
            "selected_text": "string[]",
            "error_level": 6,
            "shortcode": 11
        },
        {
            "severity": "error",
            "line_from": 221,
            "line_to": 221,
            "type": "InvalidPropertyAssignmentValue",
            "message": "$this->storeNamesList with declared type 'array<array-key, string>' cannot be assigned type 'non-empty-list<null|string>'",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Business/Writer/ProductConcreteOffersStorageWriter.php",
            "snippet": "            $this->storeNamesList[] = $storeTransfer->getName();",
            "selected_text": "$this->storeNamesList",
            "error_level": 6,
            "shortcode": 145
        },
        {
            "severity": "error",
            "line_from": 224,
            "line_to": 224,
            "type": "InvalidReturnStatement",
            "message": "The inferred type 'list<null|string>' does not match the declared return type 'array<array-key, string>' for Spryker\\Zed\\MerchantProductOfferStorage\\Business\\Writer\\ProductConcreteOffersStorageWriter::getStoreNamesList",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Business/Writer/ProductConcreteOffersStorageWriter.php",
            "snippet": "        return $this->storeNamesList;",
            "selected_text": "$this->storeNamesList",
            "error_level": 6,
            "shortcode": 128
        },
        {
            "severity": "error",
            "line_from": 103,
            "line_to": 103,
            "type": "UndefinedConstant",
            "message": "Constant Orm\\Zed\\Merchant\\Persistence\\Map\\SpyMerchantTableMap::COL_IS_ACTIVE is not defined",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Persistence/MerchantProductOfferStorageRepository.php",
            "snippet": "            $productOfferQuery->where(SpyMerchantTableMap::COL_IS_ACTIVE . ' = ?', $productOfferCriteriaTransfer->getIsActiveMerchant());",
            "selected_text": "SpyMerchantTableMap::COL_IS_ACTIVE",
            "error_level": -1,
            "shortcode": 20
        }
    ],
    "warning": [
        {
            "severity": "info",
            "line_from": 88,
            "line_to": 88,
            "type": "UndefinedMagicMethod",
            "message": "Magic method Spryker\\Shared\\Kernel\\BundleProxy::client does not exist",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/MerchantProductOfferStorageDependencyProvider.php",
            "snippet": "                $container->getLocator()->storage()->client()",
            "selected_text": "client",
            "error_level": 4,
            "shortcode": 219
        },
        {
            "severity": "info",
            "line_from": 104,
            "line_to": 104,
            "type": "UndefinedMagicMethod",
            "message": "Magic method Spryker\\Shared\\Kernel\\BundleProxy::service does not exist",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/MerchantProductOfferStorageDependencyProvider.php",
            "snippet": "                $container->getLocator()->synchronization()->service()",
            "selected_text": "service",
            "error_level": 4,
            "shortcode": 219
        },
        {
            "severity": "info",
            "line_from": 120,
            "line_to": 120,
            "type": "UndefinedMagicMethod",
            "message": "Magic method Spryker\\Shared\\Kernel\\BundleProxy::service does not exist",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/MerchantProductOfferStorageDependencyProvider.php",
            "snippet": "                $container->getLocator()->utilEncoding()->service()",
            "selected_text": "service",
            "error_level": 4,
            "shortcode": 219
        },
        {
            "severity": "info",
            "line_from": 136,
            "line_to": 136,
            "type": "UndefinedMagicMethod",
            "message": "Magic method Spryker\\Shared\\Kernel\\BundleProxy::client does not exist",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/MerchantProductOfferStorageDependencyProvider.php",
            "snippet": "                $container->getLocator()->store()->client()",
            "selected_text": "client",
            "error_level": 4,
            "shortcode": 219
        },
        {
            "severity": "info",
            "line_from": 152,
            "line_to": 152,
            "type": "PossiblyUndefinedMethod",
            "message": "Method Generated\\Client\\Ide\\AutoCompletion::merchantStorage does not exist",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/MerchantProductOfferStorageDependencyProvider.php",
            "snippet": "                $container->getLocator()->merchantStorage()->client()",
            "selected_text": "merchantStorage",
            "error_level": 3,
            "shortcode": 108
        },
        {
            "severity": "info",
            "line_from": 56,
            "line_to": 56,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of Generated\\Shared\\Transfer\\ProductOfferStorageCriteriaTransfer::addProductConcreteSku cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/Plugin/ProductStorage/ProductViewProductOfferExpanderPlugin.php",
            "snippet": "        $productOfferStorageCriteriaTransfer->addProductConcreteSku($productViewTransfer->getSku());",
            "selected_text": "$productViewTransfer->getSku()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 46,
            "line_to": 46,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $groupedProductOfferReferences[null|string] using possibly null offset null|string",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/ProductConcreteDefaultProductOffer/ProductConcreteDefaultProductOffer.php",
            "snippet": "            $groupedProductOfferReferences[$productOfferStorageTransfer->getProductConcreteSku()][]",
            "selected_text": "$groupedProductOfferReferences",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 50,
            "line_to": 50,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Generated\\Shared\\Transfer\\ProductOfferStorageTransfer> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/ProductConcreteDefaultProductOffer/ProductConcreteDefaultProductOfferReader.php",
            "snippet": "        if (!$productOfferStorageCollectionTransfer->getProductOffers()->count()) {",
            "selected_text": "count",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 55,
            "line_to": 55,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Generated\\Shared\\Transfer\\ProductOfferStorageTransfer> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/ProductConcreteDefaultProductOffer/ProductConcreteDefaultProductOfferReader.php",
            "snippet": "            $productOfferStorageCollectionTransfer->getProductOffers()->getArrayCopy(),",
            "selected_text": "getArrayCopy",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 264,
            "line_to": 264,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $defaultProductOffers using possibly null offset null|string",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/Storage/ProductOfferStorageReader.php",
            "snippet": "                || $productOfferStorageTransfer->getProductOfferReference() !== $defaultProductOffers[$productOfferStorageTransfer->getProductConcreteSku()]",
            "selected_text": "$defaultProductOffers",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 301,
            "line_to": 301,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $indexedMerchantStorageTransfers[int|null] using possibly null offset int|null",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Client/MerchantProductOfferStorage/Storage/ProductOfferStorageReader.php",
            "snippet": "            $indexedMerchantStorageTransfers[$merchantStorageTransfer->getIdMerchant()] = $merchantStorageTransfer;",
            "selected_text": "$indexedMerchantStorageTransfers",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 169,
            "line_to": 169,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $productOfferReferencesGroupedByConcreteSku[mixed|null|string] using possibly null offset mixed|null|string",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Business/Writer/ProductConcreteOffersStorageWriter.php",
            "snippet": "                $productOfferReferencesGroupedByConcreteSku[$productOfferTransfer->getConcreteSku()] = [];",
            "selected_text": "$productOfferReferencesGroupedByConcreteSku",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 172,
            "line_to": 172,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $productOfferReferencesGroupedByConcreteSku[mixed|null|string] using possibly null offset mixed|null|string",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Business/Writer/ProductConcreteOffersStorageWriter.php",
            "snippet": "                $productOfferReferencesGroupedByConcreteSku[$productOfferTransfer->getConcreteSku()][$storeTransfer->getName()][] =",
            "selected_text": "$productOfferReferencesGroupedByConcreteSku",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 173,
            "line_to": 173,
            "type": "PossiblyNullArgument",
            "message": "Argument 1 of mb_strtolower cannot be null, possibly null value provided",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Business/Writer/ProductConcreteOffersStorageWriter.php",
            "snippet": "                    mb_strtolower($productOfferTransfer->getProductOfferReference());",
            "selected_text": "$productOfferTransfer->getProductOfferReference()",
            "error_level": 3,
            "shortcode": 78
        },
        {
            "severity": "info",
            "line_from": 147,
            "line_to": 147,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $productOfferReferencesToRemoveGroupedByStoreName[null|string] using possibly null offset null|string",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Business/Writer/ProductOfferStorageWriter.php",
            "snippet": "            $productOfferReferencesToRemoveGroupedByStoreName[$storeTransfer->getName()] = $productOfferTransfer->getProductOfferReference();",
            "selected_text": "$productOfferReferencesToRemoveGroupedByStoreName",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 150,
            "line_to": 150,
            "type": "PossiblyNullArrayOffset",
            "message": "Cannot access value on variable $productOfferReferencesToRemoveGroupedByStoreName using possibly null offset mixed|null|string",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Business/Writer/ProductOfferStorageWriter.php",
            "snippet": "                    unset($productOfferReferencesToRemoveGroupedByStoreName[$productOfferStoreTransfer->getName()]);",
            "selected_text": "$productOfferReferencesToRemoveGroupedByStoreName",
            "error_level": 3,
            "shortcode": 125
        },
        {
            "severity": "info",
            "line_from": 133,
            "line_to": 133,
            "type": "MismatchingDocblockReturnType",
            "message": "Docblock has incorrect return type 'Propel\\Runtime\\Collection\\ObjectCollection|array<array-key, Orm\\Zed\\MerchantProductOfferStorage\\Persistence\\SpyProductConcreteProductOffersStorage>', should be 'Propel\\Runtime\\Collection\\ObjectCollection'",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Communication/Plugin/Synchronization/ProductConcreteProductOffersSynchronizationDataBulkRepositoryPlugin.php",
            "snippet": "     * @return \\Orm\\Zed\\MerchantProductOfferStorage\\Persistence\\SpyProductConcreteProductOffersStorage[]|\\Propel\\Runtime\\Collection\\ObjectCollection",
            "selected_text": "\\Orm\\Zed\\MerchantProductOfferStorage\\Persistence\\SpyProductConcreteProductOffersStorage[]|\\Propel\\Runtime\\Collection\\ObjectCollection",
            "error_level": 4,
            "shortcode": 142
        },
        {
            "severity": "info",
            "line_from": 132,
            "line_to": 132,
            "type": "MismatchingDocblockReturnType",
            "message": "Docblock has incorrect return type 'Propel\\Runtime\\Collection\\ObjectCollection|array<array-key, Orm\\Zed\\MerchantProductOfferStorage\\Persistence\\SpyProductOfferStorage>', should be 'Propel\\Runtime\\Collection\\ObjectCollection'",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Communication/Plugin/Synchronization/ProductOfferSynchronizationDataBulkRepositoryPlugin.php",
            "snippet": "     * @return \\Orm\\Zed\\MerchantProductOfferStorage\\Persistence\\SpyProductOfferStorage[]|\\Propel\\Runtime\\Collection\\ObjectCollection",
            "selected_text": "\\Orm\\Zed\\MerchantProductOfferStorage\\Persistence\\SpyProductOfferStorage[]|\\Propel\\Runtime\\Collection\\ObjectCollection",
            "error_level": 4,
            "shortcode": 142
        },
        {
            "severity": "info",
            "line_from": 77,
            "line_to": 77,
            "type": "UndefinedMagicMethod",
            "message": "Magic method Spryker\\Shared\\Kernel\\BundleProxy::facade does not exist",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/MerchantProductOfferStorageDependencyProvider.php",
            "snippet": "                $container->getLocator()->eventBehavior()->facade()",
            "selected_text": "facade",
            "error_level": 4,
            "shortcode": 219
        },
        {
            "severity": "info",
            "line_from": 93,
            "line_to": 93,
            "type": "UndefinedMagicMethod",
            "message": "Magic method Spryker\\Shared\\Kernel\\BundleProxy::facade does not exist",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/MerchantProductOfferStorageDependencyProvider.php",
            "snippet": "                $container->getLocator()->store()->facade()",
            "selected_text": "facade",
            "error_level": 4,
            "shortcode": 219
        },
        {
            "severity": "info",
            "line_from": 79,
            "line_to": 79,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Orm\\Zed\\MerchantProductOfferStorage\\Persistence\\SpyProductConcreteProductOffersStorage> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Persistence/MerchantProductOfferStorageEntityManager.php",
            "snippet": "        $query->find()->delete();",
            "selected_text": "delete",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 98,
            "line_to": 98,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Orm\\Zed\\MerchantProductOfferStorage\\Persistence\\SpyProductOfferStorage> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Persistence/MerchantProductOfferStorageEntityManager.php",
            "snippet": "        $query->find()->delete();",
            "selected_text": "delete",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 43,
            "line_to": 43,
            "type": "PossiblyInvalidMethodCall",
            "message": "Cannot call method on possible array<array-key, Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOffer|Propel\\Runtime\\ActiveRecord\\ActiveRecordInterface|mixed> variable ",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Persistence/MerchantProductOfferStorageRepository.php",
            "snippet": "            ->getData();",
            "selected_text": "getData",
            "error_level": 3,
            "shortcode": 113
        },
        {
            "severity": "info",
            "line_from": 62,
            "line_to": 62,
            "type": "PossiblyInvalidArgument",
            "message": "Argument 1 of Spryker\\Zed\\MerchantProductOfferStorage\\Persistence\\MerchantProductOfferStorageRepository::applyFilters expects Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOfferQuery, possibly different type Orm\\Zed\\ProductOffer\\Persistence\\SpyProductOfferQuery|Orm\\Zed\\Store\\Persistence\\SpyStoreQuery provided",
            "file_name": "vendor/spryker/spryker/Bundles/MerchantProductOfferStorage/src/Spryker/Zed/MerchantProductOfferStorage/Persistence/MerchantProductOfferStorageRepository.php",
            "snippet": "        $productOfferPropelQuery = $this->applyFilters($productOfferPropelQuery, $productOfferCriteriaTransfer);",
            "selected_text": "$productOfferPropelQuery",
            "error_level": 3,
            "shortcode": 92
        }
    ],
    "deprecation": []
}
