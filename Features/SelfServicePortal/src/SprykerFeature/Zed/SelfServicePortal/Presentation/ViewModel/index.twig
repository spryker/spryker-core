{% extends '@Gui/Layout/layout.twig' %}

{% if widget_title is not defined %}
    {% set widget_title = 'View Model: ' ~ sspModel.reference | trans %}
{% endif %}

{% block head_title -%}
    {{ widget_title }}
{%- endblock %}

{% block section_title %}{{ widget_title }}{% endblock %}

{% block action %}
    {{ backActionButton(url(listModelRoute), 'Back to Models' | trans) }}
{% endblock %}

{% block content %}
    {% embed '@Gui/Partials/widget.twig' with {
        widget_title: 'general' | trans,
        image: block('image'),
    } %}
        {% block widget_content %}
            <div class="row">
                {% if imageUrl %}
                    <div class="col-sm-12 col-md-auto">
                        {% include '@SelfServicePortal/_partials/list.twig' with {
                                list: [
                                    {
                                    title: 'Image',
                                    block: image,
                                },
                            ],
                        } only %}
                    </div>
                {% endif %}

                <div class="col-sm-12 col-md-auto">
                    {% include '@SelfServicePortal/_partials/list.twig' with {
                        list: [
                            {
                                title: 'Reference',
                                value: sspModel.reference,
                                qa: 'ssp-model-reference',
                            },
                            {
                                title: 'Name',
                                value: sspModel.name,
                                qa: 'ssp-model-name',
                            },
                            {
                                title: 'Code',
                                value: sspModel.code | default('---'),
                                qa: 'ssp-model-code',
                            },
                        ],
                    } only %}
                </div>
            </div>
        {% endblock %}
    {% endembed %}

    {% include '@SelfServicePortal/_partials/model-relations.twig' with {
        'sspModel': sspModel,
        'sspModelTabs': sspModelTabs,
        'attachedAssetsTable': attachedAssetsTable,
        'attachedProductListsTable': attachedProductListsTable,
    } only %}
{% endblock %}

{% block image %}
    <span>
        <img data-qa="ssp-model-image" width="300" class="img-thumbnail border border-secondary m-t-sm" src="{{ imageUrl }}">
    </span>
{% endblock %}
